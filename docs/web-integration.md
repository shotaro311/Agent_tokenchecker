---
summary: "Codex向けOpenAI Webダッシュボード連携（Cookie、プライバシー、スクレイプ）。"
read_when:
  - OpenAI Web連携やダッシュボード解析を変更するとき
  - ブラウザCookie取り込み挙動を更新するとき
  - OpenAI Webアクセスの不具合を調査するとき
---

# OpenAI Web連携（Codex）

## 追加される内容
- 使用量上限（5時間 + 週間）。
- 残りクレジット（残高）。
- コードレビュー残量（%）。
- 使用量内訳（ダッシュボードチャート）。
- クレジット使用履歴テーブル（存在する場合）。

有効時、CodexBarはCodexの使用量 + クレジットをWebダッシュボードから取得し、対応するブラウザCookieが見つからない場合のみCodex CLIにフォールバックします。

## オプトイン + プライバシー
- トグル: 設定 → プロバイダ → 「WebでCodexを利用」。
- 既存のブラウザCookieを再利用し、認証情報は保存しません。
- Webリクエストは `chatgpt.com` に送信（ブラウザセッションと同じ）。

## Cookie/セッションモデル
- 取り込み順: Safari → Chrome → Firefox（Safariが一致した場合にChromeのKeychainプロンプトを回避するため）。
- WebKitはメールアドレスごとの `WKWebsiteDataStore` を使うため、複数アカウントが共存できます。
- メール不一致: ブラウザのメール ≠ Codex CLIのメールの場合、そのアカウントでは未ログイン扱い（Cookieは後日の一致のため保持）。

## トラブルシューティング
- SafariのCookieアクセスにはフルディスクアクセスが必要な場合があります（設定UIからシステムの設定を開けます）。
- ダッシュボードのレイアウト変更でスクレイプが壊れる可能性があり、エラーは設定に短い本文サンプル付きで表示されます。

関連: `docs/providers.md`。
